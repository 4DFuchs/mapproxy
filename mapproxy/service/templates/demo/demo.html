{{py:
from urllib import quote, quote_plus

def strip(s):
    return s.split('/')[1]
}}

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>MapProxy Demo</title>
        <link rel="stylesheet" type="text/css" href="static/site.css" />
    </head>
    <body>
        <div id="box">
        <div id="header">
            <img src="static/logo.png">
            <h1>MapProxy</h1>
        </div>
        <div id="menu">
            <span class="current"><a href="demo.html">Demos</a></span>            
        </div>    
        <div id="content">
            <h2>About</h2>
            <p>please insert any text describing this</p>
            <h2>WMS</h2>
            <table class="code">
                <tr><th>Layer</th><th>Image-Format</th></tr>
                {{for layer in layers.values()}}
                <tr><td rowspan="{{len(formats)}}">{{layer.md.get('name')}}</td>
                    {{for loop, format in looper(formats)}}
                        {{if not loop.first}}
                            <tr>
                        {{endif}}
                    <td class="value"><a href="../demo/?wms_layer={{layer.md.get('name')}}&format={{format | quote_plus}}">{{format | strip}}</a></td></tr>
                    {{endfor}}
                {{endfor}}
            </table>
            
            <h2>TMS</h2>
            <table class="code">
                <tr><th>Layer</th><th>Coordinate-System</th><th>Image-Format</th></tr>
            {{for tms_layer_name, tms_layers in tms_layers.items()}}
            <tr><td rowspan="{{len(tms_layers)}}">{{tms_layer_name}}</td>
                {{for loop, layer in looper(tms_layers)}}
                    {{if not loop.first}}
                        <tr>
                    {{endif}}
                    <td class="value">{{layer.grid.srs.srs_code}}</td>
                    <td class="value"><a href="../demo/?tms_layer={{layer.md['name']}}&format={{layer.format}}&srs={{layer.grid.srs.srs_code | quote}}">{{layer.format}}</a></td></tr>
                {{endfor}}            
            {{endfor}}
            </table>
        </div>
        </div>
    </body>
</html>